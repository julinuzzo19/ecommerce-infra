# Configuraci√≥n de Prometheus para scrapear todos los servicios

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: "ecommerce-cluster"
    environment: "development"

scrape_configs:
  # Users Service
  - job_name: "users-service"
    static_configs:
      - targets: ["ecommerce-users-service:3012", "host.docker.internal:3012"]
    metrics_path: "/metrics"
    scrape_interval: 10s

  # # API Gateway
  # - job_name: "gateway-service"
  #   static_configs:
  #     - targets: ["ecommerce-api-gateway:3000", "host.docker.internal:3000"]
  #   metrics_path: "/metrics"
  #   scrape_interval: 10s

  # # Auth Service
  # - job_name: "auth-service"
  #   static_configs:
  #     - targets: ["ecommerce-auth-service:3010", "host.docker.internal:3010"]
  #   metrics_path: "/metrics"
  #   scrape_interval: 10s

  # Inventory Service
  # - job_name: "inventory-service"
  #   static_configs:
  #     - targets:
  #         ["ecommerce-inventory-service:3011", "host.docker.internal:3011"]
  #   metrics_path: "/metrics"
  #   scrape_interval: 10s

  # # Order-Product Service
  # - job_name: "order-product-service"
  #   static_configs:
  #     - targets:
  #         ["ecommerce-order-product-service:3600", "host.docker.internal:3600"]
  #   metrics_path: "/metrics"
  #   scrape_interval: 10s

# Reglas de alertas
rule_files:
  - "/etc/prometheus/alerts.yml"
